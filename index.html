<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Best Wings | Visualization</title>

<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
<!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
 <link href="css/fontawesome.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="css/simple-sidebar.css" rel="stylesheet">
  
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 

   <!--<script src="L.Polyline.SnakeAnim.js"></script>-->
   
<style>
#MyPopup {
  display:none;  
}
.marker {
  background-image: url('lib/images/waste_disposal.png');
  background-size: cover;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;

}

h2,
h3 {
  margin: 10px;
  font-size: 1.2em;
}

h3 {
  font-size: 1em;
}

p {
  font-size: 0.85em;
  margin: 10px;
  text-align: left;
}


.map-overlay {
  position: absolute;
  bottom: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.8);
  margin-right: 20px;
  font-family: Arial, sans-serif;
  overflow: auto;
  border-radius: 3px;
}

#features {
  top: 0;
  height: 100px;
  margin-top: 20px;
  width: 250px;
}

#legend {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  line-height: 18px;
  margin-bottom: 30px;
  
}

.legend-key {
  display: inline-block;
  border-radius: 20%;
  width: 10px;
  height: 10px;
  margin-right: 5px;
}


</style>
</head>

<body >

  <div class="d-flex" id="wrapper">

 
    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav class="navbar navbar-expand-lg navbar-light bg-nav border-bottom">
        <!--<a href="#"class="text-white" id="menu-toggle"><i class="fa fa-long-arrow-right"></i></a>-->

        <button class="navbar-toggler bg-white" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class=" navbar-toggler-icon"></span>
        </button>
		
		
		<div class="col-sm-12"  >
			<h5  class="text-white text-center" >FLOOD RISK ASSESMENT BASED ON WASTE COLLECTION POINT NEAR THE DRAINAGE SYSTEM IN ZANZIBAR</h5>
		</div>
        
      </nav>

      <div class="container">
		<div style="padding:10px;" class="row">
			<div class="container">
				<div class="row" style='margin-top:10px;'>
					<div class="col-sm-12">
						<div id='map' style="width:100%;height:600px;border:1px solid blue;">

						</div>
					</div>
					<div class="col-sm-12">
						<div class='container' >
							<div class="row">
								<div class="col-7 col-md-10"></div>
								<div class="col-5 col-md-2 map-overlay"  id='legend'>
									<p><strong>Key</strong></p>
										<div class="container-fullwidth"> 
										<hr>
											<div class="row">
												<div class=" col-sm-2 "  >
													<image src="lib/images/waste_disposal.png"  height="25" />
												</div>
												<div class=" col-sm-10 " >
													 <span style="font-size:15px" >Collection Points</span>
												</div>
											</div>
											<hr>
											<div class="row">
												<div class=" col-sm-2 "  >
													<image src="lib/images/blue lign.gif"  height="20" />
												</div>
												<div class=" col-sm-10 " >
													 <span style="font-size:15px" >Unblocked Water</span>
												</div>
											</div>
											<hr>
											<div class="row">
												<div class=" col-sm-2 "  >
													<image src="lib/images/red line.gif"  height="20" />
												</div>
												<div class=" col-sm-10 " >
													 <span style="font-size:15px" >Blocked Water</span>
												</div>
											</div>
											
											<hr style="display:none" id="hr_risk" >
											<div class="row " style="display:none" id="building_at_risk">
												<div class=" col-sm-2 "  >
													<image src="lib/images/building.gif"  height="20" />
												</div>
												<div class=" col-sm-10 " >
													 <span style="font-size:15px" >Building at Risk</span>
												</div>
											</div>
											
											<br>
										
											
										</div>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			  </div>
		</div>
		<div class="row  " align="center" style="margin-top:10px;">
			<div class="col-md-12 ">
				<h5>THE STATE UNIVERSITY OF ZANZIBAR</h5>
				<!--<p>@2020</p>-->
			</div>
			
		</div>
		
    </div>
 <!-- /#page-content-wrapper -->
 
 
 <!-- /Tutorial modal-->
 
	
			<!-- Modal -->
				<div id="myModal" class="modal  fade" role="dialog">
				  <div class="modal-dialog modal-lg">

					<!-- Modal content-->
					<div class="modal-content">
					  <div class="modal-header">
					  		<span align="center">This tutorial will appear again after 10 minutes!</span>

						<button type="button" class="close" data-dismiss="modal">&times;</button>
					  </div>
					  <div class="modal-body" >
							<img src="tut.gif" height="400"  width="100%"/>
					  </div>
					  
					</div>

				  </div>
				</div>
	
<!-- /Tutorial modal-->

	
  </div>
  
</div>
  
  
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  		<script src="data/buildings_atRisk.js"></script>
  		<script src="data/drainage_nearWaste.js"></script>


<script>




mapboxgl.accessToken = 'pk.eyJ1IjoianJiYXJ0aXN0IiwiYSI6ImNrMG5uaGQ2bjAxZDQzcHM4MWx2ZDQ5amwifQ.lwP_ukc9egUxM3814xKudw';
var map = new mapboxgl.Map({
//style: 'mapbox://styles/mapbox/streets-v11',
style: 'mapbox://styles/jrbartist/ckhgshg741rh719o0cojcrrhm',
center: [39.21013,-6.172],
zoom: 17.5,
pitch: 40,
bearing: -17.6,
container: 'map',
antialias: true
});
 
// The 'building' layer in the mapbox-streets vector source contains building-height
// data from OpenStreetMap.
map.on('load', function () {
// Insert the layer beneath any symbol layer.
var layers = map.getStyle().layers;
 
var labelLayerId;
for (var i = 0; i < layers.length; i++) {
if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {
labelLayerId = layers[i].id;
break;
}
}

var dump1 = {
  type: 'FeatureCollection',
  features: [{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [39.2096197,-6.1726823]
    },
    properties: {
      title: 'Mapbox',
      description: 'Jangombe '
    }
  }
 ]
};
var dump2 = {
  type: 'FeatureCollection',
  features: [{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [39.217425,-6.1630639 ]
    },
    properties: {
      title: 'Mapbox',
      description: 'Sebleni '
    }
  }
 ]
};
var dump3 = {
  type: 'FeatureCollection',
  features: [{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [39.2168201,-6.166791]
    },
    properties: {
      title: 'Mapbox',
      description: 'Sebleni '
    }
  }
 ]
};

var dump4 = {
  type: 'FeatureCollection',
  features: [{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [39.2093199,-6.1646403 ]
    },
    properties: {
      title: 'Mapbox',
      description: 'Kwaalimsha '
    }
  }
 ]
};



dump1.features.forEach(function(marker) {
  var el = document.createElement('div');
  el.className = 'marker';
  new mapboxgl.Marker(el)
    .setLngLat(marker.geometry.coordinates)
	.setPopup(new mapboxgl.Popup({closeOnClick: true, closeButton: false}).setText("Waste Collection at Jangombe"))
    .addTo(map)
	.togglePopup();
	});
	
dump2.features.forEach(function(marker) {
  var e2 = document.createElement('div');
  e2.className = 'marker';
  new mapboxgl.Marker(e2)
    .setLngLat(marker.geometry.coordinates)
	.setPopup(new mapboxgl.Popup({closeOnClick: true, closeButton: false}).setText("Waste Collection at Amani"))
    .addTo(map)
	.togglePopup();
	});
	
dump3.features.forEach(function(marker) {
  var e2 = document.createElement('div');
  e2.className = 'marker';
  new mapboxgl.Marker(e2)
    .setLngLat(marker.geometry.coordinates)
	.setPopup(new mapboxgl.Popup({closeOnClick: true, closeButton: false}).setText("Waste Collection at Sebleni"))
    .addTo(map)
	.togglePopup();
	});
	
dump4.features.forEach(function(marker) {
  var e2 = document.createElement('div');
  e2.className = 'marker';
  new mapboxgl.Marker(e2)
    .setLngLat(marker.geometry.coordinates)
	.setPopup(new mapboxgl.Popup({closeOnClick: true, closeButton: false}).setText("Waste Collection at Kwaalimsha"))
    .addTo(map)
	.togglePopup();
	});
	

 // Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());
	map.addLayer(
			{
				'id': '3d-buildings',
				'source': 'composite',
				'source-layer': 'building',
				'filter': ['==', 'extrude', 'true'],
				'type': 'fill-extrusion',
				'minzoom': 15,
				'paint': {
				'fill-extrusion-color': '#aaa',
							 
				// use an 'interpolate' expression to add a smooth transition effect to the
				// buildings as the user zooms in
				'fill-extrusion-height': [
				'interpolate',
				['linear'],
				['zoom'],
				15,
				0,
				15.05,
				['get', 'height']
				],
				'fill-extrusion-base': [
				'interpolate',
				['linear'],
				['zoom'],
				15,
				0,
				15.05,
				['get', 'min_height']
				],
				'fill-extrusion-opacity': 0.6
				//'fill-extrusion-opacity': 0
				}
				},
				labelLayerId
				);
		});

var scale = new mapboxgl.ScaleControl({
	maxWidth: 180,
	unit: 'imperial'
});
	map.addControl(scale);
	scale.setUnit('metric');

//animate
var animationStep = 30;

function enableLineAnimation2(layerId) {
  var step = 0;
  let dashArraySeq = [
    [0, 4, 3],
    [1, 4, 2],
    [2, 4, 1],
    [3, 4, 0],
    [0, 1, 3, 3],
    [0, 2, 3, 2],
    [0, 3, 3, 1]
  ];
   setInterval(() => {
      step = (step + 1) % dashArraySeq.length;
      map.setPaintProperty(layerId, 'line-dasharray', dashArraySeq[step]);
    }, 380);
}

function enableLineAnimation(layerId) {
  var step = 0;
  let dashArraySeq = [
    [0, 4, 3],
    [1, 4, 2],
    [2, 4, 1],
    [3, 4, 0],
    [0, 1, 3, 3],
    [0, 2, 3, 2],
    [0, 3, 3, 1]
  ];
   setInterval(() => {
      step = (step + 1) % dashArraySeq.length;
      map.setPaintProperty(layerId, 'line-dasharray', dashArraySeq[step]);
    }, animationStep);
}

function enableLineAnimation3(layerId) {
  var step = 0;
  let dashArraySeq = [
    [0, 4, 3],
    [1, 4, 2],
    [2, 4, 1],
    [3, 4, 0],
    [0, 1, 3, 3],
    [0, 2, 3, 2],
    [0, 3, 3, 1]
  ];
   setInterval(() => {
      step = (step + 1) % dashArraySeq.length;
      map.setPaintProperty(layerId, 'line-dasharray', dashArraySeq[step]);
    }, animationStep);
}

function enableLineAnimation4(layerId) {
  var step = 0;
  let dashArraySeq = [
    [0, 4, 3],
    [1, 4, 2],
    [2, 4, 1],
    [3, 4, 0],
    [0, 1, 3, 3],
    [0, 2, 3, 2],
    [0, 3, 3, 1]
  ];
   setInterval(() => {
      step = (step + 1) % dashArraySeq.length;
      map.setPaintProperty(layerId, 'line-dasharray', dashArraySeq[step]);
    }, animationStep);
}

map.on('load', function () {

    map.addLayer({
        "id": "route1",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
					[
						39.209678,
						-6.172713
					  ],
								   
					  [
						39.2096432,
						-6.1725383
					  ],
					  [
						39.2095982,
						-6.1723643
					  ],
					  [
						39.2095761,
						-6.17229
					  ],
					  [
						39.2095893,
						-6.1720152
					  ],
					  [
						39.2096556,
						-6.1718892
					  ],
					  [
						39.2099992,
						-6.1713977
					  ],
					  [
						39.2102641,
						-6.1710237
					  ],
					  [
						39.210652,
						-6.1704627
					  ]
       
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "red",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation2('route1');
});



map.on('load', function () {

    map.addLayer({
        "id": "route",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                      [
						39.2099565,
						-6.1735415
					  ],
					  [
						39.2100197,
						-6.1734553
					  ],
					  [
						39.2100723,
						-6.173363
					  ],
					  [
						39.2100928,
						-6.1732747
					  ],
					  [
						39.210069,
						-6.1731819
					  ],
					  [
						39.2098215,
						-6.1729983
					  ],
					  [
						39.2097137,
						-6.1729087
					  ],
					  [
						39.2097137,
						-6.1729087
					  ],
					  [
						39.209678,
						-6.172713
					  ]
				   
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation('route');
});

map.on('load', function () {

    map.addLayer({
        "id": "route3",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                       [
							39.212488,
							-6.1698323
						  ],
						  [
							39.2125,
							-6.1698557
						  ],
						  [
							39.2125202,
							-6.1699103
						  ],
						  [
							39.2125349,
							-6.1699543
						  ],
						  [
							39.2125342,
							-6.170019
						  ],
						  [
							39.2125101,
							-6.1700837
						  ],
						  [
							39.2124933,
							-6.1701263
						  ],
						  [
							39.2124645,
							-6.1701783
						  ],
						  [
							39.212433,
							-6.170243
						  ],
						  [
							39.2123901,
							-6.1702963
						  ],
						  [
							39.2123519,
							-6.1703503
						  ],
						  [
							39.2122848,
							-6.1704163
						  ],
						  [
							39.2122493,
							-6.1704557
						  ],
						  [
							39.212197,
							-6.1704983
						  ],
						  [
							39.2121359,
							-6.1705377
						  ],
						  [
							39.2121145,
							-6.1705503
						  ],
						  [
							39.2120877,
							-6.1705683
						  ],
						  [
							39.2120327,
							-6.170595
						  ],
						  [
							39.2119522,
							-6.1706283
						  ],
						  [
							39.2118905,
							-6.1706443
						  ],
						  [
							39.2118627,
							-6.1706545
						  ],
						  [
							39.2118395,
							-6.1706583
						  ],
						  [
							39.2117703,
							-6.170678
						  ],
						  [
							39.2117238,
							-6.1706902
						  ],
						  [
							39.2116712,
							-6.1707063
						  ],
						  [
							39.2116109,
							-6.170717
						  ],
						  [
							39.2115385,
							-6.170733
						  ],
						  [
							39.2114842,
							-6.170741
						  ],
						  [
							39.2114164,
							-6.1707523
						  ],
						  [
							39.21123,
							-6.1707183
						  ],
						  [
							39.2111496,
							-6.1706863
						  ],
						  [
							39.2110805,
							-6.170643
						  ],
						  [
							39.210943,
							-6.1705557
						  ],
						  [
							39.2109014,
							-6.1705283
						  ],
						  [
							39.2107774,
							-6.1704443
						  ],
						  [
							39.2107251,
							-6.170409
						  ],
						  [
							39.2106393,
							-6.1703363
						  ],
						  [
							39.2105829,
							-6.1702977
						  ],
						  [
							39.2105514,
							-6.1702683
						  ],
						  [
							39.2105373,
							-6.1702543
						  ]
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation3('route3');
});

map.on('load', function () {

    map.addLayer({
        "id": "route4",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                       [
							39.2093702,
							-6.1718463
						  ],
						  [
							39.2092784,
							-6.171781
						  ],
						  [
							39.2091255,
							-6.1716737
						  ],
						  [
							39.209033,
							-6.1716163
						  ],
						  [
							39.2089089,
							-6.171523
						  ],
						  [
							39.2087902,
							-6.1714397
						  ],
						  [
							39.2087071,
							-6.171381
						  ],
						  [
							39.2085119,
							-6.171245
						  ],
						  [
							39.2084502,
							-6.171121
						  ],
						  [
							39.2083302,
							-6.1709123
						  ],
						  [
							39.2082363,
							-6.1707963
						  ],
						  [
							39.2080955,
							-6.1707117
						  ],
						  [
							39.2078474,
							-6.1705637
						  ],
						  [
							39.2076918,
							-6.1704197
						  ],
						  [
							39.2075302,
							-6.1702657
						  ],
						  [
            39.2075302,
            -6.1702657
          ],
          [
            39.2074722,
            -6.1702173
          ],
          [
            39.2074384,
            -6.1701843
          ],
          [
            39.2073636,
            -6.1701193
          ],
          [
            39.2072808,
            -6.1700417
          ],
          [
            39.207197,
            -6.1699763
          ],
          [
            39.2071309,
            -6.1699243
          ],
          [
            39.2070444,
            -6.169864
          ],
          [
            39.206969,
            -6.1697967
          ],
          [
            39.2069257,
            -6.1697493
          ],
          [
            39.2069013,
            -6.169741
          ],
          [
            39.206849,
            -6.1697513
          ],
          [
            39.2067651,
            -6.1697573
          ],
          [
            39.2066756,
            -6.1697653
          ],
          [
            39.2066082,
            -6.1697677
          ],
          [
            39.2065405,
            -6.169776
          ],
          [
            39.2064899,
            -6.1697787
          ],
          [
            39.2064612,
            -6.1697842
          ],
          [
            39.2064208,
            -6.169789
          ],
          [
            39.2063434,
            -6.1698007
          ],
          [
            39.2062669,
            -6.1698163
          ],
          [
            39.206219,
            -6.1698263
          ],
          [
            39.2061422,
            -6.169842
          ],
          [
            39.2060949,
            -6.1698477
          ]
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route4');
});

map.on('load', function () {

    map.addLayer({
        "id": "route5",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                       [
							39.2091128,
							-6.1694376
						  ],
						  [
							39.2090045,
							-6.1694252
						  ],
						  [
							39.2089723,
							-6.1694248
						  ],
						  [
							39.2089391,
							-6.1694273
						  ],
						  [
							39.2088913,
							-6.1694278
						  ],
						  [
							39.2088643,
							-6.1694305
						  ],
						  [
							39.2088392,
							-6.1694313
						  ],
						  [
							39.2087813,
							-6.1694347
						  ],
						  [
							39.208746,
							-6.169442
						  ],
						  [
							39.2086943,
							-6.169446
						  ],
						  [
							39.2086383,
							-6.1694545
						  ],
						  [
							39.2085865,
							-6.1694648
						  ],
						  [
							39.2085371,
							-6.1694697
						  ],
						  [
							39.208471,
							-6.1694827
						  ],
						  [
							39.2083718,
							-6.1695007
						  ],
						  [
							39.208348,
							-6.1694997
						  ],
						  [
							39.208296,
							-6.1695073
						  ],
						  [
							39.2082960, -6.1695073,
						  ],
						  [
							 39.2082132,-6.1695173
						  ],
						  [
							 39.2080992,-6.1695427
						  ],
						  [
							39.2080992,
							-6.1695427
						  ],
						  [
							39.2080362,
							-6.1695463
						  ],
						  [
							39.2079554,
							-6.169557
						  ],
						  [
							39.2079054,
							-6.1695697
						  ],
						  [
							39.2078451,
							-6.16958
						  ],								  
						  [
							39.2077924,
							-6.169592
						  ],
						  [
							39.2077924,
							-6.169592
						  ],
						  [
							39.2077468,
							-6.1696003
						  ],
						  [
							39.2076972,
							-6.169608
						  ],
						  [
							39.207655,
							-6.1696167
						  ],
						  [
							39.2076043,
							-6.169627
						  ],
						  [
							39.2075463,
							-6.169634
						  ],
						  [
							39.2074645,
							-6.1696517
						  ],
						  [
							39.207427,
							-6.1696573
						  ],
						  [
							39.2073589,
							-6.1696717
						  ],
						  [
							39.207317,
							-6.169678
						  ],
						  [
							39.2072593,
							-6.169688
						  ],
						  [
							39.2072037,
							-6.1696963
						  ],
						  [
							39.2071353,
							-6.16971
						  ],
						  [
							39.2070719,
							-6.1697187
						  ],
						  [
							39.207027,
							-6.1697223
						  ],
						  [
							39.2069727,
							-6.169726
						  ],
						  [
							39.2069261,
							-6.1697357
						  ],
						  [
							39.2069013,
							-6.169741
						  ]
          
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route5');
});

map.on('load', function () {

    map.addLayer({
        "id": "route6",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                       [
							39.2077837,
							-6.17019
						  ],
						  [
							39.2077867,
							-6.1701617
						  ],
						  [
							39.2077864,
							-6.170125
						  ],
						  [
							39.2077864,
							-6.1700723
						  ],
						  [
							39.2077928,
							-6.1699947
						  ],
						  [
							39.2077934,
							-6.1699493
						  ],
						  [
							39.2077954,
							-6.1698713
						  ],
						  [
							39.2077941,
							-6.1698257
						  ],
						  [
							39.2077737,
							-6.1697887
						  ],
						  [
							39.2077556,
							-6.169723
						  ],
						  [
							39.2077495,
							-6.1696633
						  ],
						  [
							39.2077475,
							-6.169628
						  ],
						  [
							39.2077468,
							-6.1696003
						  ]
          
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route6');
});

map.on('load', function () {

    map.addLayer({
        "id": "route7",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
						[
						39.2103054,
						-6.1750645
					  ],
					  [
						39.2101731,
						-6.1749628
					  ],
                       [
						39.2101731,
						-6.1749628
					  ],
					  [
						39.2103684,
						-6.1746181
					  ]
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route7');
});

map.on('load', function () {

    map.addLayer({
        "id": "route8",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
						[
            39.215142,
            -6.1708137
          ],
          [
            39.2152044,
            -6.170837
          ],
          [
            39.2152604,
            -6.1708713
          ],
          [
            39.2153144,
            -6.1708987
          ],
          [
            39.2153854,
            -6.1709283
          ],
          [
            39.2154615,
            -6.1709597
          ],
          [
            39.2155088,
            -6.1709817
          ],
          [
            39.2155856,
            -6.1709817
          ],
          [
            39.2156486,
            -6.170972
          ],
          [
            39.2157076,
            -6.1709813
          ],
          [
            39.2157868,
            -6.1710047
          ],
          [
            39.215835,
            -6.1710313
          ],
          [
            39.2158478,
            -6.1710523
          ],
          [
            39.2159272,
            -6.171075
          ],
          [
            39.216002,
            -6.1710807
          ],
          [
            39.2160563,
            -6.1711183
          ],
          [
            39.2160406,
            -6.1711647
          ],
          [
            39.2160171,
            -6.171222
          ],
          [
            39.2159976,
            -6.171278
          ],
          [
            39.2160838,
            -6.1713093
          ],
          [
            39.2161358,
            -6.1713293
          ],
          [
            39.2161888,
            -6.1713523
          ],
          [
            39.2162494,
            -6.1713797
          ],
          [
            39.2163135,
            -6.1713953
          ],
          [
            39.2163721,
            -6.1714097
          ],
          [
            39.2164496,
            -6.1714283
          ],
          [
            39.2164939,
            -6.1714413
          ],
          [
            39.2165396,
            -6.1714549
          ],
						[
							39.2165396,
							-6.1714549
						  ],
						  [
							39.2165713,
							-6.1714737
						  ],
						  [
							39.2165985,
							-6.1714837
						  ],
						  [
							39.2166008,
							-6.17152
						  ],
						  [
							39.2166192,
							-6.1715457
						  ],
						  [
							39.2166598,
							-6.1715667
						  ],
						  [
							39.2167161,
							-6.1715693
						  ],
						  [
							39.2167587,
							-6.171558
						  ],
						  [
							39.2168093,
							-6.1715383
						  ],
						  [
							39.2168627,
							-6.1715367
						  ],
						  [
							39.216861,
							-6.1715173
						  ],
						  [
							39.2169257,
							-6.171515
						  ],
						  [
							39.2169746,
							-6.171535
						  ],
						  [
							39.2170296,
							-6.1715557
						  ],
						  [
							39.2170792,
							-6.171559
						  ],
						  [
							39.2171872,
							-6.171563
						  ],
						  [
							39.2173099,
							-6.171547
						  ],
						  [
							39.2174025,
							-6.1715237
						  ],
						  [
							39.2174487,
							-6.171517
						  ],
						  [
							39.217489,
							-6.1715157
						  ],
						  [
							39.2175476,
							-6.171495
						  ],
						  [
							39.217663,
							-6.171476
						  ],
						  [
							39.2179365,
							-6.1713717
						  ]
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route8');
});

map.on('load', function () {

    map.addLayer({
        "id": "route9",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
						 [
						39.2096934,
						-6.1683353
					  ],
					  [
						39.2094494,
						-6.1688597
					  ],
					  
					  [
						39.2094192,
						-6.1689403
					  ],
					  [
						39.2093354,
						-6.169115
					  ],
					  [
						39.2093132,
						-6.169175
					  ],
					  [
						39.209264,
						-6.169278
					  ],
					  [
						39.2092536,
						-6.1693293
					  ],
					  [
						39.2092757,
						-6.1693847
					  ]
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('route9');
});

map.on('load', function () {

    map.addLayer({
        "id": "route10",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
							
							  [
								39.2167302,
								-6.1671106
							  ],
							  [
								39.2167554,
								-6.1670586
							  ],
							  [
								39.2167584,
								-6.167034
							  ],
							  [
								39.2167658,
								-6.1670096
							  ],
							  [
								39.2167751,
								-6.1669886
							  ],
							  [
								39.2167859,
								-6.1669833
							  ],
							  [
								39.216808,
								-6.166937
							  ],
							  [
								39.2168187,
								-6.166881
							  ],
							  [
								39.2168221,
								-6.1668453
							  ],
							  [
								39.2168429,
								-6.1668046
							  ],
							  [
								39.2168965,
								-6.166794
							  ],
							  [
								39.2168992,
								-6.1667643
							  ],
							  [
								39.2169237,
								-6.166728
							  ],
							  [
								39.2169347,
								-6.166688
							  ],
							  [
								39.2169917,
								-6.1666456
							  ],
							  [
								39.2170497,
								-6.166628
							  ],
							  [
								39.2171527,
								-6.1666286
							  ],
							  [
								39.217261,
								-6.1666296
							  ],
							  [
								39.2173525,
								-6.1666186
							  ],
							  [
								39.2174504,
								-6.1666033
							  ]
       
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "red",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation2('route10');
});

map.on('load', function () {

    map.addLayer({
        "id": "route11",
        "type": "line",
        "source": {
            "type": "geojson",
            "data": 
			{
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
					[
						39.2161576,
						-6.1670086
					  ],
					  [
						39.2162357,
						-6.167021
					  ],
					  [
						39.2163125,
						-6.1670316
					  ],
					  [
						39.2164489,
						-6.1670803
					  ],
					  [
						39.2165163,
						-6.167115
					  ],
					  [
						39.2166169,
						-6.1671573
					  ],
					  [
						39.2167047,
						-6.1671693
					  ]
       
                    ]
                }
            }
        },
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation('route11');
});



//EVENTS
map.on('mouseenter', 'route1', function () {
    map.getCanvas().style.cursor = 'pointer';
});
map.on('mouseleave', 'route1', function () {
    map.getCanvas().style.cursor = '';
});
//EVENTS
map.on('mouseenter', 'route10', function () {
    map.getCanvas().style.cursor = 'pointer';
});
map.on('mouseleave', 'route10', function () {
    map.getCanvas().style.cursor = '';
});//EVENTS
map.on('mouseenter', 'ReddrainageSeb', function () {
    map.getCanvas().style.cursor = 'pointer';
});
map.on('mouseleave', 'ReddrainageSeb', function () {
    map.getCanvas().style.cursor = '';
});

map.on('click', 'route1', function(e){
	
	map.addLayer({
		'id': 'buildingJangombe',
		'type': 'fill',
		'source': 'jangombe',
		'layout': {},
		'paint': {
		'fill-color': '#bf5200',
		'fill-opacity': 0,
		'fill-opacity-transition': {duration: 5000}
	}
	});
	
	setTimeout(function() {
		
	  document.getElementById("building_at_risk").style.display = "";
	  document.getElementById("hr_risk").style.display = "";
      map.setPaintProperty('buildingJangombe', 'fill-opacity', 0.4);
        }, 
        100
    );
	
	
});

map.on('click', 'ReddrainageSeb', function(e){
	map.addLayer({
		'id': 'buildingSebleni1',
		'type': 'fill',
		'source': 'sebleni1',
		'layout': {},
		'paint': {
		'fill-color': 'red',
		 'fill-opacity': 0,
		'fill-opacity-transition': {duration: 5000}
		}
	});
setTimeout(function() {
	  document.getElementById("building_at_risk").style.display = "";
	  document.getElementById("hr_risk").style.display = "";
      map.setPaintProperty('buildingSebleni1', 'fill-opacity', 0.5);
        }, 
        100
    );
	
	
});

map.on('click', 'route10', function(e){
	map.addLayer({
		'id': 'buildingSebleni',
		'type': 'fill',
		'source': 'sebleni',
		'layout': {},
		'paint': {
		'fill-color': 'red',
		 'fill-opacity': 0,
		'fill-opacity-transition': {duration: 5000}
		}
	});
setTimeout(function() {
		document.getElementById("building_at_risk").style.display = "";
	  document.getElementById("hr_risk").style.display = "";
      map.setPaintProperty('buildingSebleni', 'fill-opacity', 0.5);
        }, 
        100
    );
	
	
});



class PitchToggle {
  constructor({ bearing = -17.6, pitch = 40, minpitchzoom = null }) {
    this._bearing = bearing;
    this._pitch = pitch;
    this._minpitchzoom = minpitchzoom;
  }

  onAdd(map) {
    this._map = map;
    let _this = this;

    this._btn = document.createElement("button");
    this._btn.className = "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-3d";
    this._btn.type = "button";
    this._btn["aria-label"] = "Toggle Pitch";
    this._btn.onclick = function() {
      if (map.getPitch() === 0) {
        let options = { pitch: _this._pitch, bearing: _this._bearing };
        if (_this._minpitchzoom && map.getZoom() > _this._minpitchzoom) {
          options.zoom = _this._minpitchzoom;
        }
        map.easeTo(options);
        _this._btn.className =
          "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-2d";
      } else {
        map.easeTo({ pitch: 0, bearing: 0 });
        _this._btn.className =
          "mapboxgl-ctrl-icon mapboxgl-ctrl-pitchtoggle-3d";
      }
    };

    this._container = document.createElement("div");
    this._container.className = "mapboxgl-ctrl-group mapboxgl-ctrl";
    this._container.appendChild(this._btn);

    return this._container;
  }

  onRemove() {
    this._container.parentNode.removeChild(this._container);
    this._map = undefined;
  }
}
/* Idea from Stack Overflow https://stackoverflow.com/a/51683226  */
class MapboxGLButtonControl {
  constructor({
    className = "",
    title = "",
    eventHandler = evtHndlr
  }) {
    this._className = className;
    this._title = title;
    this._eventHandler = eventHandler;
  }

  onAdd(map) {
    this._btn = document.createElement("button");
    this._btn.className = "mapboxgl-ctrl-icon" + " " + this._className;
    this._btn.type = "button";
    this._btn.title = this._title;
    this._btn.onclick = this._eventHandler;

    this._container = document.createElement("div");
    this._container.className = "mapboxgl-ctrl-group mapboxgl-ctrl";
    this._container.appendChild(this._btn);

    return this._container;
  }

  onRemove() {
    this._container.parentNode.removeChild(this._container);

    this._map = undefined;
  }
}


var areax=39.2096197; 
function one(event) {
  console.log("event number 1", event);
	//sebleni another 39.2168201,-6.166791
	//sebleni 39.217425,-6.1630639
	//jangombe 39.2096197,-6.1726823
	
	if(areax==39.2096197){
		areax=39.2168201;	
		map.flyTo({
			center: [
			39.2168201,-6.166791
			],
			essential: true 
		});
	}else if(areax==39.2168201){
		areax=39.217425;
		
		map.flyTo({
			center: [
			39.217425,-6.1630639
			],
			essential: true 
		});
	}else if(areax==39.217425){
		areax=39.2093199; 
		map.flyTo({
			center: [
			39.2093199,-6.1646403
			],
			essential: true 
		});
	}else{
		areax=39.2096197;
		map.flyTo({
			center: [
			39.2096197,-6.1726823
			],
			essential: true 
		});
	}
}
const ctrlPoint = new MapboxGLButtonControl({
  className: "mapbox-gl-draw_point ",
  title: "Move Next Area",
  eventHandler: one
});




/* Add Controls to the Map */
map.addControl(new PitchToggle({ minpitchzoom: 17.5 }), "top-left");
map.addControl(ctrlPoint, "bottom-left");



function rotateCamera(timestamp) {
	map.rotateTo((timestamp / 100) % 360, { duration: 0 });
	requestAnimationFrame(rotateCamera);
}
 
map.on('load', function () {

var layers = map.getStyle().layers;
	for (var i = 0; i < layers.length; i++) {
		if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {
		// remove text labels
		//map.removeLayer(layers[i].id);
		}
	}
});

map.on('load', function () {
	//add  building  source
	map.addSource('jangombe', {
	'type': 'geojson',
	'data': json_building_at_risk 
	});
	
	map.addSource('sebleni', {
	'type': 'geojson',
	'data': json_building_at_risk2 
	});
	
	map.addSource('sebleni1', {
	'type': 'geojson',
	'data': json_building_at_risk3 
	});
	
	//add drainage source n layer
	
	map.addSource('seblenidrain', {
	'type': 'geojson',
	'data': drainage2
	});
	
	  map.addLayer({
        "id": "ReddrainageSeb",
        "type": "line",
        "source": 'seblenidrain',
        "layout": {
        },
        "paint": {
            "line-color": "red",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation2('ReddrainageSeb');
	
	map.addSource('seblenidrain1', {
	'type': 'geojson',
	'data': drainage3
	});
	
	  map.addLayer({
        "id": "ReddrainageSeb1",
        "type": "line",
        "source": 'seblenidrain1',
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation4('ReddrainageSeb1');
	
	map.addSource('kwaalimsha', {
	'type': 'geojson',
	'data': drainage4
	});
	
	  map.addLayer({
        "id": "drainkwaali",
        "type": "line",
        "source": 'kwaalimsha',
        "layout": {
        },
        "paint": {
            "line-color": "#73B6FE",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation('drainkwaali');

	map.addSource('kwaalimsha1', {
	'type': 'geojson',
	'data': drainage5
	});
	
	  map.addLayer({
        "id": "drainkwaali1",
        "type": "line",
        "source": 'kwaalimsha1',
        "layout": {
        },
        "paint": {
            "line-color": "red",
            "line-width": 8,
            "line-dasharray": [0, 2, 3]
        }
    });
    enableLineAnimation2('drainkwaali1');

});

/*buildings
map.on('load', function () {
map.addSource('maine', {
'type': 'geojson',
'data': {
	'type': 'FeatureCollection',
	'features': [
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[ 39.2093191,-6.1720679],
						[  39.2094555,-6.1721618],
						[ 39.2094077,-6.1722288],
						[ 39.2092731,-6.1721397 ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[[
					  39.2092929,
					  -6.1721729
					],
					[
					  39.2092851,
					  -6.1721831
					],
					[
					  39.2092618,
					  -6.1721705
					],
					[
					  39.2092283,
					  -6.1722172
					],
					[
					  39.209245,
					  -6.1722298
					],
					[
					  39.2092433,
					  -6.1722364
					],
					[
					  39.2093551,
					  -6.1723099
					],
					[
					  39.2094029,
					  -6.1722417
					],
					[
					  39.2092929,
					  -6.1721729
					]
					]
				]
			}
		},{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						
						
						[
              39.2094131,
              -6.172251
            ],
            [
              39.2093694,
              -6.1723144
            ],
            [
              39.2094173,
              -6.1723425
            ],
            [
              39.2094149,
              -6.1723497
            ],
            [
              39.2094831,
              -6.1723939
            ],
            [
              39.2095231,
              -6.1723359
            ],
            [
              39.2095213,
              -6.1723221
            ],
            [
              39.2094131,
              -6.172251
            ]
					
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2092337,
              -6.1722417
            ],
            [
              39.2091925,
              -6.172307
            ],
            [
              39.2091961,
              -6.1723172
            ],
            [
              39.209263,
              -6.1723608
            ],
            [
              39.209269,
              -6.172353
            ],
            [
              39.209278,
              -6.1723584
            ],
            [
              39.2092756,
              -6.1723644
            ],
            [
              39.2093055,
              -6.1723835
            ],
            [
              39.2093485,
              -6.1723171
            ],
            [
              39.2092337,
              -6.1722417
            ]
					
					]
				]
			}
		}
		,{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[
              39.2098896,
              -6.1722792
            ],
            [
              39.2097766,
              -6.1722469
            ],
            [
              39.20977,
              -6.1722457
            ],
            [
              39.2097473,
              -6.1723253
            ],
            [
              39.2097826,
              -6.1723367
            ],
            [
              39.2097844,
              -6.1723307
            ],
            [
              39.2098675,
              -6.172357
            ],
            [
              39.2098896,
              -6.1722792
            ]
					
					]
				]
			}
		}
		,{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.209923,
              -6.1722038
            ],
            [
              39.2099218,
              -6.1721942
            ],
            [
              39.2098399,
              -6.1721685
            ],
            [
              39.2098351,
              -6.1721745
            ],
            [
              39.2098028,
              -6.1721655
            ],
            [
              39.2097825,
              -6.172232
            ],
            [
              39.2098178,
              -6.1722445
            ],
            [
              39.209816,
              -6.1722481
            ],
            [
              39.2099003,
              -6.1722744
            ],
            [
              39.209923,
              -6.1722038
            ]
					]
				]
			}
		}
		,{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
							[
              39.2098879,
              -6.1724886
            ],
            [
              39.2098819,
              -6.1724551
            ],
            [
              39.2097581,
              -6.1724791
            ],
            [
              39.2097719,
              -6.1725629
            ],
            [
              39.2098245,
              -6.1725551
            ],
            [
              39.2098257,
              -6.1725604
            ],
            [
              39.2099142,
              -6.1725431
            ],
            [
              39.2099082,
              -6.1724856
            ],
            [
              39.2098879,
              -6.1724886
            ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[
              39.2095106,
              -6.1724229
            ],
            [
              39.2094634,
              -6.1724888
            ],
            [
              39.2094682,
              -6.1724984
            ],
            [
              39.2095351,
              -6.1725438
            ],
            [
              39.2095405,
              -6.1725384
            ],
            [
              39.2095764,
              -6.1725629
            ],
            [
              39.2096057,
              -6.1725222
            ],
            [
              39.2095865,
              -6.1725091
            ],
            [
              39.2095973,
              -6.1724881
            ],
            [
              39.2095823,
              -6.1724804
            ],
            [
              39.2095859,
              -6.1724732
            ],
            [
              39.2095106,
              -6.1724229
            ]
						
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2094532,
              -6.1725014
            ],
            [
              39.2094084,
              -6.1725702
            ],
            [
              39.2094132,
              -6.1725798
            ],
            [
              39.209525,
              -6.1726557
            ],
            [
              39.2095752,
              -6.1725815
            ],
            [
              39.2094532,
              -6.1725014
            ]
						
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2094048,
              -6.1725905
            ],
            [
              39.2093612,
              -6.1726594
            ],
            [
              39.2094061,
              -6.1726946
            ],
            [
              39.2094007,
              -6.1726994
            ],
            [
              39.209433,
              -6.172724
            ],
            [
              39.2094372,
              -6.1727198
            ],
            [
              39.2094892,
              -6.1727562
            ],
            [
              39.2095424,
              -6.1726784
            ],
            [
              39.2094048,
              -6.1725905
            ]	
						
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.2094147,
              -6.1719213
            ],
            [
              39.2093747,
              -6.1719853
            ],
            [
              39.2095134,
              -6.1720702
            ],
            [
              39.2095541,
              -6.1720139
            ],
            [
              39.2095547,
              -6.1720014
            ],
            [
              39.2094147,
              -6.1719213
            ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.2095002,
              -6.1719995
            ],
            [
              39.2095098,
              -6.172009
            ],
            [
              39.2094996,
              -6.1720234
            ],
            [
              39.2094883,
              -6.172018
            ],
            [
              39.2095002,
              -6.1719995
            ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
						  39.2095002,
						  -6.1719995
						],
						[
						  39.2095098,
						  -6.172009
						],
						[
						  39.2094996,
						  -6.1720234
						],
						[
						  39.2094883,
						  -6.172018
						],
						[
						  39.2095002,
						  -6.1719995
						]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2093659,
              -6.1723291
            ],
            [
              39.2093426,
              -6.172365
            ],
            [
              39.2093378,
              -6.172362
            ],
            [
              39.2093151,
              -6.1723973
            ],
            [
              39.2094311,
              -6.1724735
            ],
            [
              39.2094783,
              -6.1724026
            ],
            [
              39.2093659,
              -6.1723291
            ]
						
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.2093784,
              -6.1723771
            ],
            [
              39.2093927,
              -6.1723884
            ],
            [
              39.2093778,
              -6.1724052
            ],
            [
              39.2093646,
              -6.172398
            ],
            [
              39.2093784,
              -6.1723771
            ]
					]
				]
			}
		}
		,{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
							[
            [
              39.209901,
              -6.172363
            ],
            [
              39.2098794,
              -6.1723666
            ],
            [
              39.2098776,
              -6.1723606
            ],
            [
              39.2097443,
              -6.1723828
            ],
            [
              39.2097587,
              -6.1724629
            ],
            [
              39.2098944,
              -6.1724443
            ],
            [
              39.2098938,
              -6.1724378
            ],
            [
              39.2099082,
              -6.1724354
            ],
            [
              39.209901,
              -6.172363
            ]
          ],
          [
            [
              39.2097882,
              -6.1724001
            ],
            [
              39.209793,
              -6.1724228
            ],
            [
              39.2097787,
              -6.1724276
            ],
            [
              39.2097739,
              -6.1724007
            ],
            [
              39.2097882,
              -6.1724001
            ]
          ]
					]
				]
			}
		}
		,
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.209841,
              -6.171969
            ],
            [
              39.2098069,
              -6.1719582
            ],
            [
              39.2098087,
              -6.1719546
            ],
            [
              39.2097089,
              -6.1719259
            ],
            [
              39.2096832,
              -6.1720079
            ],
            [
              39.2097729,
              -6.1720348
            ],
            [
              39.2097759,
              -6.1720288
            ],
            [
              39.2097843,
              -6.1720306
            ],
            [
              39.2097831,
              -6.1720378
            ],
            [
              39.2098142,
              -6.1720485
            ],
            [
              39.209841,
              -6.171969
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						
					]
				]
			}
		},
			
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2102426,
              -6.1708134
            ],
            [
              39.2102491,
              -6.1708026
            ],
            [
              39.2102121,
              -6.1707799
            ],
            [
              39.2101577,
              -6.1708535
            ],
            [
              39.2102719,
              -6.1709312
            ],
            [
              39.2103167,
              -6.1708654
            ],
            [
              39.2102426,
              -6.1708134
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2102605,
              -6.1707033
            ],
            [
              39.2102103,
              -6.1707757
            ],
            [
              39.210279,
              -6.1708229
            ],
            [
              39.210279,
              -6.1708265
            ],
            [
              39.2103436,
              -6.1708672
            ],
            [
              39.2103956,
              -6.1707882
            ],
            [
              39.2103334,
              -6.1707487
            ],
            [
              39.2103322,
              -6.1707523
            ],
            [
              39.2102605,
              -6.1707033
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2103144,
              -6.171295
            ],
            [
              39.2103654,
              -6.171217
            ],
            [
              39.2102346,
              -6.1711323
            ],
            [
              39.2101835,
              -6.1712103
            ],
            [
              39.2103144,
              -6.171295
            ]
						
					]
				]
			}
		},
		
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					 [
              39.2103072,
              -6.1710503
            ],
            [
              39.2102953,
              -6.1710677
            ],
            [
              39.2102762,
              -6.1710563
            ],
            [
              39.2102499,
              -6.1710976
            ],
            [
              39.2102654,
              -6.171106
            ],
            [
              39.2102499,
              -6.1711305
            ],
            [
              39.2103629,
              -6.1712089
            ],
            [
              39.2103671,
              -6.1712065
            ],
            [
              39.2103886,
              -6.1712184
            ],
            [
              39.2104412,
              -6.1711376
            ],
            [
              39.2103072,
              -6.1710503
            ]	
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					[
              39.2102491,
              -6.1713486
            ],
            [
              39.2102246,
              -6.1713785
            ],
            [
              39.2102162,
              -6.1713714
            ],
            [
              39.2101493,
              -6.1714462
            ],
            [
              39.2101475,
              -6.171451
            ],
            [
              39.2101654,
              -6.1714683
            ],
            [
              39.2101624,
              -6.1714737
            ],
            [
              39.2101995,
              -6.1715042
            ],
            [
              39.2102019,
              -6.1715012
            ],
            [
              39.2102156,
              -6.1715156
            ],
            [
              39.2102378,
              -6.171491
            ],
            [
              39.2102306,
              -6.1714833
            ],
            [
              39.2103065,
              -6.1713959
            ],
            [
              39.2102491,
              -6.1713486
            ]	
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2101689,
              -6.1712523
            ],
            [
              39.2101504,
              -6.1712661
            ],
            [
              39.2101438,
              -6.1712613
            ],
            [
              39.2100595,
              -6.1713505
            ],
            [
              39.2100673,
              -6.1713595
            ],
            [
              39.2100572,
              -6.1713678
            ],
            [
              39.2101283,
              -6.1714342
            ],
            [
              39.2101373,
              -6.1714265
            ],
            [
              39.2101433,
              -6.171433
            ],
            [
              39.2102036,
              -6.1713654
            ],
            [
              39.2102024,
              -6.1713642
            ],
            [
              39.2102455,
              -6.1713193
            ],
            [
              39.2101689,
              -6.1712523
            ]
						
					]
				]
			}
		},
			
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2100462,
              -6.1710088
            ],
            [
              39.2100002,
              -6.1710777
            ],
            [
              39.2101175,
              -6.171156
            ],
            [
              39.2101647,
              -6.1710878
            ],
            [
              39.2100462,
              -6.1710088
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2100416,
              -6.1712727
            ],
            [
              39.2100517,
              -6.171256
            ],
            [
              39.2100469,
              -6.171253
            ],
            [
              39.2100505,
              -6.1712446
            ],
            [
              39.2099423,
              -6.1711686
            ],
            [
              39.2098927,
              -6.1712405
            ],
            [
              39.2099698,
              -6.1712895
            ],
            [
              39.2099561,
              -6.1713098
            ],
            [
              39.2099956,
              -6.171335
            ],
            [
              39.2100356,
              -6.1712691
            ],
            [
              39.2100416,
              -6.1712727
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.2101221,
              -6.1709298
            ],
            [
              39.2100642,
              -6.1710118
            ],
            [
              39.210176,
              -6.1710836
            ],
            [
              39.2102316,
              -6.1710064
            ],
            [
              39.2101221,
              -6.1709298
            ]
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2100122,
              -6.1710956
            ],
            [
              39.2099596,
              -6.1711686
            ],
            [
              39.2100643,
              -6.1712386
            ],
            [
              39.2101079,
              -6.1711704
            ],
            [
              39.2101055,
              -6.1711566
            ],
            [
              39.2100122,
              -6.1710956
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					 [
              39.2100807,
              -6.1717355
            ],
            [
              39.209979,
              -6.1717026
            ],
            [
              39.2099737,
              -6.1717134
            ],
            [
              39.209939,
              -6.1717038
            ],
            [
              39.2099211,
              -6.1717715
            ],
            [
              39.2099557,
              -6.1717804
            ],
            [
              39.2099545,
              -6.1717864
            ],
            [
              39.2100544,
              -6.1718169
            ],
            [
              39.2100807,
              -6.1717355
            ]	
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2099127,
              -6.1717816
            ],
            [
              39.209887,
              -6.1718654
            ],
            [
              39.209887,
              -6.171869
            ],
            [
              39.2100144,
              -6.1719108
            ],
            [
              39.2100174,
              -6.1719061
            ],
            [
              39.2100293,
              -6.1719102
            ],
            [
              39.2100532,
              -6.17183
            ],
            [
              39.2099127,
              -6.1717816
            ]
						
					]
				]
			}
		},
		
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					 [
              39.2100132,
              -6.1719204
            ],
            [
              39.2099289,
              -6.1718941
            ],
            [
              39.2099259,
              -6.1719013
            ],
            [
              39.2098888,
              -6.1718894
            ],
            [
              39.2098673,
              -6.171954
            ],
            [
              39.209908,
              -6.1719683
            ],
            [
              39.2099062,
              -6.1719755
            ],
            [
              39.2099881,
              -6.1719994
            ],
            [
              39.2100132,
              -6.1719204
            ]	
					]
				]
			}
		},
		
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2100428,
              -6.1714307
            ],
            [
              39.2099657,
              -6.1715444
            ],
            [
              39.2100291,
              -6.1715881
            ],
            [
              39.210108,
              -6.1714767
            ],
            [
              39.2100428,
              -6.1714307
            ]
						
					]
				]
			}
		},
		
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2101015,
              -6.171512
            ],
            [
              39.2100459,
              -6.1716012
            ],
            [
              39.2101063,
              -6.1716341
            ],
            [
              39.210163,
              -6.1715455
            ],
            [
              39.2101015,
              -6.171512
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2099851,
              -6.1720096
            ],
            [
              39.2098512,
              -6.1719695
            ],
            [
              39.2098016,
              -6.1721419
            ],
            [
              39.2099266,
              -6.1721831
            ],
            [
              39.2099529,
              -6.1721041
            ],
            [
              39.2099487,
              -6.1721006
            ],
            [
              39.2099517,
              -6.1720928
            ],
            [
              39.2099583,
              -6.172094
            ],
            [
              39.2099851,
              -6.1720096
            ]
						
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						 [
              39.2098142,
              -6.1720593
            ],
            [
              39.2096808,
              -6.1720157
            ],
            [
              39.2096533,
              -6.1720911
            ],
            [
              39.20974,
              -6.1721216
            ],
            [
              39.2097412,
              -6.1721162
            ],
            [
              39.209755,
              -6.1721204
            ],
            [
              39.2097514,
              -6.1721234
            ],
            [
              39.2097879,
              -6.1721365
            ],
            [
              39.2098142,
              -6.1720593
            ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2098983,
              -6.1717816
            ],
            [
              39.2097871,
              -6.1717488
            ],
            [
              39.2097614,
              -6.1718236
            ],
            [
              39.2098703,
              -6.17186
            ],
            [
              39.2098983,
              -6.1717816
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					[
              39.2098745,
              -6.1718708
            ],
            [
              39.209792,
              -6.1718469
            ],
            [
              39.2097872,
              -6.1718649
            ],
            [
              39.2097812,
              -6.1718637
            ],
            [
              39.2097842,
              -6.1718559
            ],
            [
              39.2097644,
              -6.1718505
            ],
            [
              39.2097477,
              -6.1719253
            ],
            [
              39.2098027,
              -6.1719396
            ],
            [
              39.2098022,
              -6.1719444
            ],
            [
              39.2098488,
              -6.1719588
            ],
            [
              39.2098745,
              -6.1718708
            ]	
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2097051,
              -6.17152
            ],
            [
              39.2097015,
              -6.1715242
            ],
            [
              39.2096925,
              -6.1715194
            ],
            [
              39.2096632,
              -6.1715613
            ],
            [
              39.209671,
              -6.1715673
            ],
            [
              39.2096513,
              -6.1715948
            ],
            [
              39.2097278,
              -6.1716468
            ],
            [
              39.2097308,
              -6.171642
            ],
            [
              39.2097721,
              -6.1716689
            ],
            [
              39.2098175,
              -6.1716013
            ],
            [
              39.2097051,
              -6.17152
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2096226,
              -6.1717163
            ],
            [
              39.2095748,
              -6.171684
            ],
            [
              39.2095198,
              -6.1717726
            ],
            [
              39.2096478,
              -6.1718533
            ],
            [
              39.209695,
              -6.1717815
            ],
            [
              39.2096179,
              -6.171727
            ],
            [
              39.2096226,
              -6.1717163
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						[
              39.2093843,
              -6.172002
            ],
            [
              39.2093377,
              -6.1720745
            ],
            [
              39.2094656,
              -6.1721582
            ],
            [
              39.2095182,
              -6.1720822
            ],
            [
              39.2093843,
              -6.172002
            ]
					]
				]
			}
		},
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
					[
              39.2098915,
              -6.1713386
            ],
            [
              39.209861,
              -6.1713416
            ],
            [
              39.2098359,
              -6.1713207
            ],
            [
              39.2097917,
              -6.1713853
            ],
            [
              39.2098144,
              -6.1713991
            ],
            [
              39.2098096,
              -6.1714104
            ],
            [
              39.2098671,
              -6.1714529
            ],
            [
              39.2098706,
              -6.1714475
            ],
            [
              39.2099113,
              -6.1714768
            ],
            [
              39.2099633,
              -6.1713948
            ],
            [
              39.2099119,
              -6.1713607
            ],
            [
              39.2099166,
              -6.1713541
            ],
            [
              39.2098915,
              -6.1713386
            ]	
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2097708,
              -6.1714212
            ],
            [
              39.2097158,
              -6.1714996
            ],
            [
              39.2098187,
              -6.1715744
            ],
            [
              39.2098778,
              -6.1714972
            ],
            [
              39.2097708,
              -6.1714212
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					 [
              39.2097708,
              -6.1714212
            ],
            [
              39.2097158,
              -6.1714996
            ],
            [
              39.2098187,
              -6.1715744
            ],
            [
              39.2098778,
              -6.1714972
            ],
            [
              39.2097708,
              -6.1714212
            ]
						
					]
				]
			}
		}
		,
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					
						 [
              39.2096381,
              -6.1715984
            ],
            [
              39.2095766,
              -6.1716792
            ],
            [
              39.2097058,
              -6.1717743
            ],
            [
              39.2097601,
              -6.1716971
            ],
            [
              39.2096381,
              -6.1715984
            ]
					]
				]
			}
		}
		,
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
					[
              39.2096226,
              -6.1717163
            ],
            [
              39.2095748,
              -6.171684
            ],
            [
              39.2095198,
              -6.1717726
            ],
            [
              39.2096478,
              -6.1718533
            ],
            [
              39.209695,
              -6.1717815
            ],
            [
              39.2096179,
              -6.171727
            ],
            [
              39.2096226,
              -6.1717163
            ]
						
					]
				]
			}
		}
		,
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[ 39.2095630,-6.1718877],
						[ 39.2096102,-6.1719146],
						[  39.2095666,-6.1719894],
						[ 39.2094434,-6.1719176],
						[  39.2094805,-6.1718458],
						[39.2095067,  -6.1718009],
						[39.2095247,-6.1718087],
						[ 39.2095295,-6.1718045],
						[39.2095899,-6.1718404],
						[ 39.2095630,-6.1718877],
						
					]
				]
			}
		}
		,	
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[ 39.2095630,-6.1718877],
						[ 39.2096102,-6.1719146],
						[  39.2095666,-6.1719894],
						[ 39.2094434,-6.1719176],
						[  39.2094805,-6.1718458],
						[39.2095067,  -6.1718009],
						[39.2095247,-6.1718087],
						[ 39.2095295,-6.1718045],
						[39.2095899,-6.1718404],
						[ 39.2095630,-6.1718877],
						
					]
				]
			}
		}
		,
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
							[
              39.2099422,
              -6.1716558
            ],
            [
              39.2100669,
              -6.1717271
            ],
            [
              39.2100956,
              -6.1716816
            ],
            [
              39.2100842,
              -6.1716733
            ],
            [
              39.2100986,
              -6.1716481
            ],
            [
              39.2099856,
              -6.1715841
            ],
            [
              39.2099435,
              -6.1716519
            ],
            [
              39.2099422,
              -6.1716558
            ]
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[
              39.2099435,
              -6.1716519
            ],
            [
              39.2099437,
              -6.1716512
            ],
            [
              39.2098552,
              -6.1716225
            ],
            [
              39.209814,
              -6.1717416
            ],
            [
              39.2099019,
              -6.1717745
            ],
            [
              39.2099422,
              -6.1716558
            ],
            [
              39.2099435,
              -6.1716519
            ]
						
					]
				]
			}
		},
		
		{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[ 39.2095630,-6.1718877],
						[ 39.2096102,-6.1719146],
						[  39.2095666,-6.1719894],
						[ 39.2094434,-6.1719176],
						[  39.2094805,-6.1718458],
						[39.2095067,  -6.1718009],
						[39.2095247,-6.1718087],
						[ 39.2095295,-6.1718045],
						[39.2095899,-6.1718404],
						[ 39.2095630,-6.1718877],
						
					]
				]
			}
		}
		,{
		'type': 'Feature',
			'geometry': {
			'type': 'Polygon',
				'coordinates': [
					[
						[
              39.2091668,
              -6.1723088
            ],
            [
              39.2091231,
              -6.1723752
            ],
            [
              39.2092535,
              -6.1724649
            ],
            [
              39.2092529,
              -6.1724619
            ],
            [
              39.2092929,
              -6.1724051
            ],
            [
              39.2092547,
              -6.1723788
            ],
            [
              39.20926,
              -6.1723686
            ],
            [
              39.2091668,
              -6.1723088
            ]
					
					]
				]
			}
		},
		{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							[
							  39.2097825,
							  -6.1721455
							],
							[
							  39.2096635,
							  -6.1721108
							],
							[
							  39.2096474,
							  -6.1721629
							],
							[
							  39.2096336,
							  -6.1721605
							],
							[
							  39.2096223,
							  -6.1721934
							],
							[
							  39.2097078,
							  -6.1722221
							],
							[
							  39.2097132,
							  -6.1722101
							],
							[
							  39.2097592,
							  -6.1722251
							],
							[
							  39.2097825,
							  -6.1721455
							]
						]
					]
						
			}
		},
		{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							[
              39.2091303,
              -6.172398
            ],
            [
              39.2090771,
              -6.1724758
            ],
            [
              39.2091949,
              -6.1725499
            ],
            [
              39.2092428,
              -6.1724811
            ],
            [
              39.2092033,
              -6.1724584
            ],
            [
              39.2092105,
              -6.1724476
            ],
            [
              39.2091303,
              -6.172398
            ]
						]
					]
						
			}
		},{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							[
              39.2093677,
              -6.1725648
            ],
            [
              39.2092541,
              -6.1724907
            ],
            [
              39.2092105,
              -6.1725619
            ],
            [
              39.209317,
              -6.172636
            ],
            [
              39.2093677,
              -6.1725648
            ]
						]
					]
						
			}
		},{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							[
							  39.2094239,
							  -6.1724792
							],
							[
							  39.2093515,
							  -6.172432
							],
							[
							  39.2093462,
							  -6.172438
							],
							[
							  39.2093109,
							  -6.172414
							],
							[
							  39.2092685,
							  -6.1724697
							],
							[
							  39.2093091,
							  -6.1724954
							],
							[
							  39.2093049,
							  -6.172505
							],
							[
							  39.2093773,
							  -6.1725493
							],
							[
							  39.2094239,
							  -6.1724792
							]
						]
					]
						
			}
		},{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							[ 39.2094656,-6.1721737],
							[ 39.2095541, -6.1722246],
							[ 39.2095488, -6.1722407],
							[  39.2095631,-6.1722479],
							[  39.2095255, -6.1723060],
							[   39.2094226,-6.1722408]
						]
					]
						
			}
		},
		{ 
			"type": "Feature", 
				"geometry": { 
					"type": "Polygon",
						"coordinates": [
						[ 
							 [
								  39.2097521,
								  -6.1722478
								],
								[
								  39.2096109,
								  -6.1721964
								],
								[
								  39.2095835,
								  -6.1722844
								],
								[
								  39.2096738,
								  -6.1723089
								],
								[
								  39.2096749,
								  -6.1723029
								],
								[
								  39.2097282,
								  -6.1723208
								],
								[
								  39.2097521,
								  -6.1722478
								]
						]
					]
						
			}
		},
		
	]
	
}

});

});

*/
 
</script>
  <!-- Bootstrap core JavaScript -->
  
  <script>


var timeIntervalToAssumeNewSiteVisit = 10*60*1000; //in milliseconds
$(document).ready(function() {  

  var currentTime = new Date().getTime();
    var lastVisitTime = parseInt( localStorage.getItem("lastVisitTime") );

    if( isNaN( lastVisitTime ) || ( currentTime - lastVisitTime )  >= timeIntervalToAssumeNewSiteVisit )
      {
        $('#myModal').modal('show'); 
      }
  
       localStorage.setItem("lastVisitTime", currentTime);

});



  </script>
  
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Menu Toggle Script -->
 
 
</body>

</html>
